!function(){"use strict";!function(e){var t=(e.Promise,Array.isArray),n=Object.keys,o=Object.prototype.toString,r=function(e){return"[object Object]"===o.call(e)},i=function(e){return e.join("&").replace(/%20/g,"+")},s={json:"application/json"},a={"application/json":function(e){return JSON.parse(e)}};if(!e.Promise)throw new Error("The browser dows not support native Promises!!! You have to include a Promise polyfill");var u=function(o,c){var p=arguments[2];void 0===p&&(p={}),o=o.toUpperCase();var l="charset"in p?p.charset:u.options.charset,f="mimeType"in p?p.mimeType:u.options.mimeType,d=p.data,h=[],T={};n(u.options.headers).forEach(function(e){var t=u.options.headers[e];null!=t&&(T[e]=t)}),n(p.headers||{}).forEach(function(e){T[e]=p.headers[e]}),r(d)&&(n(d).forEach(function(e){var n=encodeURIComponent,o=n(e),r=d[e];t(r)?r.forEach(function(e){h.push(o+"="+n(e))}):h.push(o+"="+n(r))}),"GET"===o?d=null:(d=i(h),h=[])),"string"==typeof d&&("GET"===o?(h.push(d),d=null):T["Content-Type"]="application/x-www-form-urlencoded"),r(p.json)&&(d=JSON.stringify(p.json),T["Content-Type"]="application/json"),"Content-Type"in T&&(T["Content-Type"]+="; charset="+l),!p.emulateHTTP||"PUT"!==o&&"DELETE"!==o&&"PATCH"!==o&&"POST"!==o&&"GET"!==o||(h.push(p.emulateHTTP+"="+o),T["X-Http-Method-Override"]=o,o="POST"),h.length&&(c+=(~c.indexOf("?")?"&":"?")+i(h));var m=p.xhr||new e.XMLHttpRequest,v=new e.Promise(function(e,t){var n=function(e){return function(){t(new Error(e))}};m.onabort=n("abort"),m.onerror=n("error"),m.ontimeout=n("timeout"),m.onload=function(){if(4===m.readyState){f=f||m.getResponseHeader("Content-Type")||"";var n="response"in m?m.response:m.responseText,o=1223===m.status?204:m.status,r=a[f.split(";")[0]];if(r)try{n=r(n)}catch(i){return t(i)}o>=200&&300>o||304===o?e(n):t(n)}},m.open(o,c,!0),m.timeout=p.timeout||u.options.timeout,u.options.beforeSend&&u.options.beforeSend(m);for(var r in T){var i=T[r];null!=i&&m.setRequestHeader(r,String(i))}f&&(f in s?(m.responseType=f,f=s[f]):m.overrideMimeType&&m.overrideMimeType(f)),m.send(d||null)});return v[0]=m,v};u.serialize=function(e){var t,n,o,r,i,s={};e="form"in e?[e]:"elements"in e?e.elements:[],t=0,n=e.length;for(var a;n>t;){a=e[t++];var u=a.name;if(!a.disabled&&u)switch(a.type){case"select-multiple":s[u]=[];case"select-one":i=a.options,o=0,r=i.length;for(var c;r>o;)c=i[o++],c.selected&&(u in s?s[u].push(c.value):s[u]=c.value);o=r=i=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"textarea":s[u].push(a.value.replace(/\r?\n/g,"\r\n"));break;case"checkbox":if(a.checked&&s[u]){"string"==typeof s[u]&&(s[u]=[s[u]]),s[u].push(a.value);break}case"radio":if(!a.checked)break;default:s[u]=a.value}}return t=n=void 0,s},u.options={timeout:15e3,charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},["GET","POST","PUT","DELETE","PATCH"].forEach(function(e){u[e.toLowerCase()]=function(t,n){return u(e,t,n)}}),e.XHR=u}(window)}();
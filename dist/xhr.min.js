!function(){"use strict";!function(e){var t=e.Promise,n=Array.isArray,o=Object.keys,r=Object.prototype.toString,i=function(e){return"[object Object]"===r.call(e)},a=function(e){return e.join("&").replace(/%20/g,"+")},s={json:"application/json"},c={"application/json":function(e){return JSON.parse(e)}};if(!t)throw new Error("In order to use XHR you have to include a Promise polyfill");var u=function(e){return e>=200&&300>e||304===e},p=function(r,f){var l=arguments[2];void 0===l&&(l={}),r=r.toUpperCase();var h="charset"in l?l.charset:p.options.charset,d="mimeType"in l?l.mimeType:p.options.mimeType,T=l.data,m=[],v={};o(p.options.headers).forEach(function(e){v[e]=p.options.headers[e]}),o(l.headers||{}).forEach(function(e){v[e]=l.headers[e]}),i(T)&&(o(T).forEach(function(e){var t=encodeURIComponent,o=t(e),r=T[e];n(r)?r.forEach(function(e){m.push(o+"="+t(e))}):m.push(o+"="+t(r))}),"GET"===r?T=null:(T=a(m),m=[])),"string"==typeof T&&("GET"===r?(m.push(T),T=null):v["Content-Type"]="application/x-www-form-urlencoded"),i(l.json)&&(T=JSON.stringify(l.json),v["Content-Type"]="application/json"),"Content-Type"in v&&(v["Content-Type"]+="; charset="+h),!l.emulateHTTP||"PUT"!==r&&"DELETE"!==r&&"PATCH"!==r&&"POST"!==r&&"GET"!==r||(m.push(l.emulateHTTP+"="+r),v["X-Http-Method-Override"]=r,r="POST"),m.length&&(f+=(~f.indexOf("?")?"&":"?")+a(m));var y=l.xhr||new e.XMLHttpRequest,b=new t(function(e,t){var n=function(e){return function(){t(new Error(e))}};y.onabort=n("abort"),y.onerror=n("error"),y.ontimeout=n("timeout"),y.onreadystatechange=function(){if(4===y.readyState){d=d||y.getResponseHeader("Content-Type")||"";var n="response"in y?y.response:y.responseText,o=1223===y.status?204:y.status,r=c[d.split(";")[0]];if(r)try{n=r(n)}catch(i){return t(i)}u(o)?e(n):t(n)}},y.open(r,f,!0),y.timeout=l.timeout||p.options.timeout,p.options.before&&p.options.before(y);for(var o in v){var i=v[o];null!=i&&y.setRequestHeader(o,String(i))}d&&(d in s?(y.responseType=d,d=s[d]):y.overrideMimeType&&y.overrideMimeType(d)),y.send(T||null)});return b[0]=y,b};p.serialize=function(e){var t,n,o,r,i,a={};e="form"in e?[e]:"elements"in e?e.elements:[],t=0,n=e.length;for(var s;n>t;){s=e[t++];var c=s.name;if(!s.disabled&&c)switch(s.type){case"select-multiple":a[c]=[];case"select-one":i=s.options,o=0,r=i.length;for(var u;r>o;)u=i[o++],u.selected&&(c in a?a[c].push(u.value):a[c]=u.value);o=r=i=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"textarea":a[c].push(s.value.replace(/\r?\n/g,"\r\n"));break;case"checkbox":if(s.checked&&a[c]){"string"==typeof a[c]&&(a[c]=[a[c]]),a[c].push(s.value);break}case"radio":if(!s.checked)break;default:a[c]=s.value}}return t=n=void 0,a},p.options={timeout:15e3,charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},["GET","POST","PUT","DELETE","PATCH"].forEach(function(e){p[e.toLowerCase()]=function(t,n){return p(e,t,n)}}),e.XHR=p}(window)}();
!function(){"use strict";!function(e){var t=(e.Promise,Array.isArray),n=Object.keys,o=Object.prototype.toString,r=function(e){return"[object Object]"===o.call(e)},i=function(e){return e.join("&").replace(/%20/g,"+")},s={json:"application/json"},a={"application/json":function(e){return JSON.parse(e)}};if(!e.Promise)throw new Error("The browser dows not support native Promises!!! You have to include a Promise polyfill");var c=function(e){return e>=200&&300>e||304===e},u=function(o,p){var f=arguments[2];void 0===f&&(f={}),o=o.toUpperCase();var l="charset"in f?f.charset:u.options.charset,h="mimeType"in f?f.mimeType:u.options.mimeType,d=f.data,T=[],m={};n(u.options.headers).forEach(function(e){m[e]=u.options.headers[e]}),n(f.headers||{}).forEach(function(e){m[e]=f.headers[e]}),r(d)&&(n(d).forEach(function(e){var n=encodeURIComponent,o=n(e),r=d[e];t(r)?r.forEach(function(e){T.push(o+"="+n(e))}):T.push(o+"="+n(r))}),"GET"===o?d=null:(d=i(T),T=[])),"string"==typeof d&&("GET"===o?(T.push(d),d=null):m["Content-Type"]="application/x-www-form-urlencoded"),r(f.json)&&(d=JSON.stringify(f.json),m["Content-Type"]="application/json"),"Content-Type"in m&&(m["Content-Type"]+="; charset="+l),!f.emulateHTTP||"PUT"!==o&&"DELETE"!==o&&"PATCH"!==o&&"POST"!==o&&"GET"!==o||(T.push(f.emulateHTTP+"="+o),m["X-Http-Method-Override"]=o,o="POST"),T.length&&(p+=(~p.indexOf("?")?"&":"?")+i(T));var v=f.xhr||new e.XMLHttpRequest,y=new e.Promise(function(e,t){var n=function(e){return function(){t(new Error(e))}};v.onabort=n("abort"),v.onerror=n("error"),v.ontimeout=n("timeout"),v.onreadystatechange=function(){if(4===v.readyState){h=h||v.getResponseHeader("Content-Type")||"";var n="response"in v?v.response:v.responseText,o=1223===v.status?204:v.status,r=a[h.split(";")[0]];if(r)try{n=r(n)}catch(i){return t(i)}c(o)?e(n):t(n)}},v.open(o,p,!0),v.timeout=f.timeout||u.options.timeout,u.options.before&&u.options.before(v);for(var r in m){var i=m[r];null!=i&&v.setRequestHeader(r,String(i))}h&&(h in s?(v.responseType=h,h=s[h]):v.overrideMimeType&&v.overrideMimeType(h)),v.send(d||null)});return y[0]=v,y};u.serialize=function(e){var t,n,o,r,i,s={};e="form"in e?[e]:"elements"in e?e.elements:[],t=0,n=e.length;for(var a;n>t;){a=e[t++];var c=a.name;if(!a.disabled&&c)switch(a.type){case"select-multiple":s[c]=[];case"select-one":i=a.options,o=0,r=i.length;for(var u;r>o;)u=i[o++],u.selected&&(c in s?s[c].push(u.value):s[c]=u.value);o=r=i=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"textarea":s[c].push(a.value.replace(/\r?\n/g,"\r\n"));break;case"checkbox":if(a.checked&&s[c]){"string"==typeof s[c]&&(s[c]=[s[c]]),s[c].push(a.value);break}case"radio":if(!a.checked)break;default:s[c]=a.value}}return t=n=void 0,s},u.options={timeout:15e3,charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},["GET","POST","PUT","DELETE","PATCH"].forEach(function(e){u[e.toLowerCase()]=function(t,n){return u(e,t,n)}}),e.XHR=u}(window)}();
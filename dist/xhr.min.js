!function(){"use strict";!function(e){var t=/%20/g,n=Array.isArray,o=Object.keys,r=Object.prototype.toString,s=function(e){return"[object Object]"===r.call(e)},i=function(e){return e.join("&").replace(t,"+")},a={json:"application/json"},u={"application/json":function(e){return JSON.parse(e)}},c=function(e){return e>=200&&300>e||304===e};if(!e.Promise)throw new Error("The browser dows not support native Promises!!! You have to include a Promise polyfill");var p=function(t,r){var l=arguments[2];void 0===l&&(l={}),t=t.toUpperCase();var f="async"in l?l.async:!0,d="username"in l?l.username:null,h="password"in l?l.password:null,m="charset"in l?l.charset:p.options.charset,v="mimeType"in l?l.mimeType:p.options.mimeType,T=l.data,y=[],b={};o(p.options.headers).forEach(function(e){var t=p.options.headers[e];null!=t&&(b[e]=t)}),o(l.headers||{}).forEach(function(e){b[e]=l.headers[e]}),s(T)&&(o(T).forEach(function(e){var t=encodeURIComponent,o=t(e),r=T[e];n(r)?r.forEach(function(e){y.push(o+"="+t(e))}):y.push(o+"="+t(r))}),"GET"===t?T=null:(T=i(y),y=[])),"string"==typeof T&&("GET"===t?(y.push(T),T=null):b["Content-Type"]="application/x-www-form-urlencoded"),s(l.json)&&(T=JSON.stringify(l.json),b["Content-Type"]="application/json"),"Content-Type"in b&&(b["Content-Type"]+="; charset="+m),!l.emulateHTTP||"PUT"!==t&&"DELETE"!==t&&"PATCH"!==t&&"POST"!==t&&"GET"!==t||(y.push(l.emulateHTTP+"="+t),b["X-Http-Method-Override"]=t,t="POST"),y.length&&(r+=(~r.indexOf("?")?"&":"?")+i(y));var w=l.xhr||new e.XMLHttpRequest,g=new e.Promise(function(e,n){var o=function(e){return function(){n(new Error(e))}};w.onabort=o("abort"),w.onerror=o("error"),w.ontimeout=o("timeout"),w.onload=function(){if(4===w.readyState){v=v||w.getResponseHeader("Content-Type")||"";var t="response"in w?w.response:w.responseText,o=1223===w.status?204:w.status,r=u[v.split(";")[0]];if(r)try{t=r(t)}catch(s){return n(s)}c(o)?e(t):n(t)}},w.open(t,r,f,d,h),w.timeout=l.timeout||p.options.timeout,p.options.beforeSend&&p.options.beforeSend(w);for(var s in b){var i=b[s];null!=i&&w.setRequestHeader(s,String(i))}v&&(v in a?(w.responseType=v,v=a[v]):w.overrideMimeType&&w.overrideMimeType(v)),w.send(T||null)});return g[0]=w,g};p.serialize=function(e){var t,n,o,r,s,i={};e="form"in e?[e]:"elements"in e?e.elements:[],t=0,n=e.length;for(var a;n>t;){a=e[t++];var u=a.name;if(!a.disabled&&u)switch(a.type){case"select-multiple":i[u]=[];case"select-one":s=a.options,o=0,r=s.length;for(var c;r>o;)c=s[o++],c.selected&&(u in i?i[u].push(c.value):i[u]=c.value);o=r=s=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"textarea":i[u].push(a.value.replace(/\r?\n/g,"\r\n"));break;case"checkbox":if(a.checked&&i[u]){"string"==typeof i[u]&&(i[u]=[i[u]]),i[u].push(a.value);break}case"radio":if(!a.checked)break;default:i[u]=a.value}}return t=n=void 0,i},p.options={timeout:15e3,charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},["get","post","put","delete","patch"].forEach(function(e){p[e]=function(t,n){return p(e,t,n)}}),e.XHR=p}(window)}();
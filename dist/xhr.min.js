!function(){"use strict";!function(e){var t=Array.isArray,n=Object.keys,o=Object.prototype.toString,r=function(e){return"[object Object]"===o.call(e)},i=function(e){return e.join("&").replace(/%20/g,"+")},s={json:"application/json"},a={"application/json":function(e){return JSON.parse(e)}};if(!e.Promise)throw new Error("The browser dows not support native Promises!!! You have to include a Promise polyfill");var u=function(e){return e>=200&&300>e||304===e},c=function(o,p){var l=arguments[2];void 0===l&&(l={}),o=o.toUpperCase();var f="charset"in l?l.charset:c.options.charset,d="mimeType"in l?l.mimeType:c.options.mimeType,h=l.data,T=[],m={};n(c.options.headers).forEach(function(e){var t=c.options.headers[e];null!=t&&(m[e]=t)}),n(l.headers||{}).forEach(function(e){m[e]=l.headers[e]}),r(h)&&(n(h).forEach(function(e){var n=encodeURIComponent,o=n(e),r=h[e];t(r)?r.forEach(function(e){T.push(o+"="+n(e))}):T.push(o+"="+n(r))}),"GET"===o?h=null:(h=i(T),T=[])),"string"==typeof h&&("GET"===o?(T.push(h),h=null):m["Content-Type"]="application/x-www-form-urlencoded"),r(l.json)&&(h=JSON.stringify(l.json),m["Content-Type"]="application/json"),"Content-Type"in m&&(m["Content-Type"]+="; charset="+f),!l.emulateHTTP||"PUT"!==o&&"DELETE"!==o&&"PATCH"!==o&&"POST"!==o&&"GET"!==o||(T.push(l.emulateHTTP+"="+o),m["X-Http-Method-Override"]=o,o="POST"),T.length&&(p+=(~p.indexOf("?")?"&":"?")+i(T));var v=l.xhr||new e.XMLHttpRequest,y=new e.Promise(function(e,t){var n=function(e){return function(){t(new Error(e))}};v.onabort=n("abort"),v.onerror=n("error"),v.ontimeout=n("timeout"),v.onload=function(){if(4===v.readyState){d=d||v.getResponseHeader("Content-Type")||"";var n="response"in v?v.response:v.responseText,o=1223===v.status?204:v.status,r=a[d.split(";")[0]];if(r)try{n=r(n)}catch(i){return t(i)}u(o)?e(n):t(n)}},v.open(o,p,!0),v.timeout=l.timeout||c.options.timeout,c.options.beforeSend&&c.options.beforeSend(v);for(var r in m){var i=m[r];null!=i&&v.setRequestHeader(r,String(i))}d&&(d in s?(v.responseType=d,d=s[d]):v.overrideMimeType&&v.overrideMimeType(d)),v.send(h||null)});return y[0]=v,y};c.serialize=function(e){var t,n,o,r,i,s={};e="form"in e?[e]:"elements"in e?e.elements:[],t=0,n=e.length;for(var a;n>t;){a=e[t++];var u=a.name;if(!a.disabled&&u)switch(a.type){case"select-multiple":s[u]=[];case"select-one":i=a.options,o=0,r=i.length;for(var c;r>o;)c=i[o++],c.selected&&(u in s?s[u].push(c.value):s[u]=c.value);o=r=i=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"textarea":s[u].push(a.value.replace(/\r?\n/g,"\r\n"));break;case"checkbox":if(a.checked&&s[u]){"string"==typeof s[u]&&(s[u]=[s[u]]),s[u].push(a.value);break}case"radio":if(!a.checked)break;default:s[u]=a.value}}return t=n=void 0,s},c.options={timeout:15e3,charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},["GET","POST","PUT","DELETE","PATCH"].forEach(function(e){c[e.toLowerCase()]=function(t,n){return c(e,t,n)}}),e.XHR=c}(window)}();